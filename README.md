# 瑞吉点餐项目
### day01
#### 1：员工登录功能
+ 1.1:查询数据库,判断用户名是否存在,如果存在进入下一步,否则返回提示
+ 1.2:如果用户存在,那么再进行密码校验,在校验密码之前将密码进行md5加密,密码错误,则直接返回提示
+ 1.3:如果用户名存在且密码都正确(即通过了1.1、1.2的判断),那么再进行员工状态判断[0:禁用员工, 1:启用员工]
+ 员工启用：通过了1.1、1.2、1.3,最后返回【登录成功】
+ 员工禁用：返回提示

#### 2：员工退出登录功能
+ 2.1:登录成功后,员工的数据是以session保存的,
所以退出登录的功能就是只要点击退出按钮后,将session移除即可

### day02
#### 1：未登录状态的资源拦截
+ 1.1:对应未登录的用户不能浏览页面数据,等一些特殊的页面,所以需要一个web拦截器进行资源拦截
    - 思路:
    - 1:创建一个filter包,下面有一个[LoginFilter]登录拦截类,该类实现了Filter接口
    - 2:该类需要拦截所有资源,需要使用[@WebFilter("/*")]
    - 3:获取请求路径,通过Request对象
    - 4:将需要放行的资源定义在一个数组中
    - 5:使用Spring提供的AntPathMatcher类,用来将请求路径和放行路径进行匹配
        匹配到了就放行并return
        未匹配到就进行第6步操作
    - 6:判断当前是否为登录状态,
        如果是登录状态放行并return
        未登录则进行第7步操作
    - 7:如果既没有登录又没有匹配到需要放行的路径,那么就会自动跳转到登录页面进行登录
    
#### 2：新增员工功能
+ 2.1:添加员工后,发送请求到controller层,
除了封装[账号]、[员工姓名]、[手机号]、[性别]、[身份证号]这些必填数据之外,
还需要封装[当前新增操作者id]、[新增时间]、[当前修改操作者id]、[修改时间]
最后调用save()方法进行新增操作

+ 2.2:新增员工异常处理
当添加了一个员工后,假设该员工的员工账号为[user123],那么当再次添加相同账号的员工时,前端会报一个页面500错误
所以我们需要自定义一个异常,来对同账号添加异常进行处理
    - 思路:
    - 1:添加一个exception包,创建一个全局异常处理类,该类需要被[@RestControllerAdvice]标记
    - 2:创建一个处理重复添加同账号异常处理方法,该方法被[@ExceptionHandler(Class)]标记
    - 3:创建一个自定义异常,该异常继承自[RuntimeException]类
    - 4:在Service层,将添加员工的业务逻辑使用try..catch捕获
    
#### 3：员工信息分页条件查询功能
+ 3.1:首先需要进行分页查询,需要一个分页插件[MybatisPlusInterceptor],该对象由Spring管理
在进行分页请求时,会传入[当前页码]和[当前页需要显示的数据个数]为请求参数
    - 思路:
    - 1:定义一个Mybatis-Plus配置类,配置类中写入分页插件[MybatisPlusInterceptor]
    - 2:Service层定义Page对象,将Controller层传入过来的[当前页码]和[当前页需要显示的数据个数]作为参数传入Page构造中
    - 3:分页模糊条件查询,需要LambdaWrapperQuery类,来进行条件查询,将模糊查询的条件传入方法中
    - 4:最后将Page对象返回给Controller层
    - 5:Controller层将Page对象进行返回,Page对象中的分页数据会在前端中展示
    
+ 3.2:禁用、启用员工账号(对员工数据进行Update操作)
    - 思路:
    - 1:前台发送Put请求到Controller层
    - 2:Controller层接收到前端传过来的数据,包含一个[员工id]和[员工状态]
    - 3:由于前端传过的来的id是Long类型,且数值较大,那么会导致精度丢失的问题
        - 3.1:需要使用对象映射器将Long值转换成字符串
        - 3.2:定义一个JacksonObjectMapper,用于Json与Java对象之间互相转换
    - 4:创建SpringMvc配置文件类,该类实现[WebMvcConfigurer]接口并实现[extendMessageConverters]方法
        然后对对象转换器进行处理
    - 5:Controller层调用Service层方法,在Service层调用[updateById(Employee emp)]方法完成Update操作

#### 4：编辑员工信息,员工信息数据回显
+ 4.1:回显数据
    - 思路:
    - 1:前端将发送get请求,到Controller层,里面包含员工ID等数据
    - 2:将id传入到Service层,在Service层里进行处理[调用selectByid(Long id)]
    
+ 4.2:编辑员工信息
    - 1:参考[3.2]
